# ğŸš€ Supabase å¾Œç«¯è¨­å®šæŒ‡å—

## ğŸ“‹ è¨­å®šæ­¥é©Ÿ

### 1. å»ºç«‹ Supabase å°ˆæ¡ˆ
1. å‰å¾€ [supabase.com](https://supabase.com)
2. è¨»å†Š/ç™»å…¥å¸³è™Ÿ
3. é»æ“Š "New project"
4. å¡«å¯«å°ˆæ¡ˆè³‡è¨Šï¼š
   - Name: `stock-monitor`
   - Database Password: (è¨­å®šå¼·å¯†ç¢¼)
   - Region: é¸æ“‡æœ€è¿‘çš„å€åŸŸ

### 2. ç²å–å°ˆæ¡ˆæ†‘è­‰
1. å‰å¾€å°ˆæ¡ˆ Dashboard
2. é»æ“Š Settings â†’ API
3. è¤‡è£½ä»¥ä¸‹è³‡è¨Šï¼š
   - Project URL: `https://your-project-ref.supabase.co`
   - anon/public key: `eyJhbGciOi...`

### 3. è¨­å®šè³‡æ–™åº«
1. å‰å¾€ SQL Editor
2. è¤‡è£½ `database/supabase-setup.sql` çš„å…§å®¹
3. åŸ·è¡Œ SQL è…³æœ¬
4. ç¢ºèªè³‡æ–™è¡¨å»ºç«‹æˆåŠŸï¼š
   - `user_stocks`
   - `user_stocks_history`
   - `user_stocks_stats` (è¦–åœ–)

### 4. è¨­å®šèªè­‰
1. å‰å¾€ Authentication â†’ Settings
2. å•Ÿç”¨ Email èªè­‰
3. è¨­å®š Site URL: `https://your-username.github.io`
4. è¨­å®š Redirect URLs:
   - `https://your-username.github.io/project-workspace/stock-monitor/`
   - `http://localhost:3000` (é–‹ç™¼ç”¨)

### 5. æ›´æ–°å‰ç«¯è¨­å®š
ç·¨è¼¯ `assets/js/app.js`ï¼š
```javascript
// Supabase å¾Œç«¯é…ç½®
this.SUPABASE_URL = 'https://your-project-ref.supabase.co';
this.SUPABASE_ANON_KEY = 'your-anon-key-here';
```

### 6. è¨­å®š Email æ¨¡æ¿ (å¯é¸)
1. å‰å¾€ Authentication â†’ Email Templates
2. è‡ªè¨‚ Magic Link éƒµä»¶æ¨¡æ¿
3. æ·»åŠ å“ç‰Œ Logo å’Œè¨Šæ¯

## ğŸ”§ åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å¯¦ä½œåŠŸèƒ½ï¼š
- **ç”¨æˆ¶èªè­‰**: Magic Link Email ç™»å…¥
- **è³‡æ–™åº«**: PostgreSQL with Row Level Security
- **è·¨è£ç½®åŒæ­¥**: çœŸæ­£çš„é›²ç«¯è³‡æ–™åº«
- **å®‰å…¨æ§åˆ¶**: ç”¨æˆ¶åªèƒ½å­˜å–è‡ªå·±çš„è³‡æ–™
- **æ­·å²è¨˜éŒ„**: è¿½è¹¤æ‰€æœ‰è‚¡ç¥¨è®Šæ›´
- **è‡ªå‹•å‚™ä»½**: Supabase è‡ªå‹•å‚™ä»½
- **å³æ™‚åŒæ­¥**: æ”¯æ´å¤šè£ç½®å³æ™‚æ›´æ–°

### ğŸ”„ åŒæ­¥æµç¨‹ï¼š
1. ç”¨æˆ¶åœ¨ A è£ç½®ç™»å…¥ä¸¦æ·»åŠ è‚¡ç¥¨
2. è³‡æ–™è‡ªå‹•ä¿å­˜åˆ° Supabase
3. ç”¨æˆ¶åœ¨ B è£ç½®ç™»å…¥
4. è‡ªå‹•è¼‰å…¥ A è£ç½®çš„è‚¡ç¥¨æ¸…å–®
5. ä»»ä½•è®Šæ›´å³æ™‚åŒæ­¥åˆ°æ‰€æœ‰è£ç½®

## ğŸ—ï¸ è³‡æ–™åº«çµæ§‹

### user_stocks è¡¨
```sql
- id: ä¸»éµ
- user_id: ç”¨æˆ¶ UUID (å¤–éµ)
- email: ç”¨æˆ¶ Email
- stocks: è‚¡ç¥¨æ¸…å–® (JSONB)
- created_at: å»ºç«‹æ™‚é–“
- updated_at: æ›´æ–°æ™‚é–“
```

### user_stocks_history è¡¨
```sql
- id: ä¸»éµ
- user_id: ç”¨æˆ¶ UUID
- stocks_snapshot: è‚¡ç¥¨æ¸…å–®å¿«ç…§
- action: å‹•ä½œé¡å‹ (add/remove/update)
- stock_code: ç•°å‹•çš„è‚¡ç¥¨ä»£è™Ÿ
- created_at: è¨˜éŒ„æ™‚é–“
```

## ğŸ“Š å„ªå‹¢å°æ¯”

| åŠŸèƒ½ | æœ¬åœ°å­˜å„² | Supabase å¾Œç«¯ |
|------|---------|---------------|
| è·¨è£ç½®åŒæ­¥ | âŒ | âœ… |
| ç”¨æˆ¶èªè­‰ | âŒ | âœ… |
| è³‡æ–™å®‰å…¨ | âŒ | âœ… |
| æ­·å²è¨˜éŒ„ | âŒ | âœ… |
| å¤šç”¨æˆ¶æ”¯æ´ | âŒ | âœ… |
| å³æ™‚æ›´æ–° | âŒ | âœ… |
| è³‡æ–™å‚™ä»½ | âŒ | âœ… |
| å¯æ“´å±•æ€§ | âŒ | âœ… |

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œï¼š
1. **ç™»å…¥å¤±æ•—**: æª¢æŸ¥ Email è¨­å®šå’Œ Redirect URLs
2. **CORS éŒ¯èª¤**: ç¢ºèª Site URL è¨­å®šæ­£ç¢º
3. **è³‡æ–™ä¸åŒæ­¥**: æª¢æŸ¥ RLS æ”¿ç­–å’Œç”¨æˆ¶æ¬Šé™
4. **é€£ç·šå¤±æ•—**: ç¢ºèª API Key å’Œ Project URL

### èª¿è©¦å·¥å…·ï¼š
- ä½¿ç”¨å…§å»ºèª¿è©¦æŒ‰éˆ• ğŸ” æŸ¥çœ‹åŒæ­¥ç‹€æ…‹
- æª¢æŸ¥ç€è¦½å™¨ Console çš„è©³ç´°æ—¥èªŒ
- Supabase Dashboard çš„ Table Editor
- Authentication é é¢æŸ¥çœ‹ç”¨æˆ¶æ¸…å–®

## ğŸ”„ éƒ¨ç½²å¾Œæ¸¬è©¦

1. **å–®è£ç½®æ¸¬è©¦**: ç™»å…¥ â†’ æ·»åŠ è‚¡ç¥¨ â†’ é‡æ–°æ•´ç†é é¢
2. **è·¨è£ç½®æ¸¬è©¦**: A è£ç½®æ·»åŠ è‚¡ç¥¨ â†’ B è£ç½®ç™»å…¥æŸ¥çœ‹
3. **è·¨ç€è¦½å™¨æ¸¬è©¦**: Chrome æ·»åŠ  â†’ Firefox ç™»å…¥æŸ¥çœ‹
4. **é›¢ç·šæ¸¬è©¦**: æ–·ç¶² â†’ é‡æ–°é€£ç·š â†’ æª¢æŸ¥åŒæ­¥

## ğŸ’¡ é€²éšåŠŸèƒ½

### å¯æ“´å±•çš„åŠŸèƒ½ï¼š
- è‚¡ç¥¨åƒ¹æ ¼æé†’
- æŠ•è³‡çµ„åˆåˆ†æ
- ç¤¾ç¾¤åˆ†äº«åŠŸèƒ½
- è‚¡ç¥¨æ–°èæ•´åˆ
- æŠ€è¡“æŒ‡æ¨™è¨ˆç®—
- æ‰‹æ©Ÿ App (React Native)

é€™å€‹æ¶æ§‹å¯ä»¥æ”¯æ´æ•¸åƒåç”¨æˆ¶åŒæ™‚ä½¿ç”¨ï¼Œä¸¦ä¸”å…·å‚™å®Œæ•´çš„æ“´å±•æ€§ï¼