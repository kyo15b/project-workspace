<!-- 相機控制組件樣板 -->
<div class="camera-controls">
  
  <!-- 控制面板切換按鈕 -->
  <button 
    class="controls-toggle-button"
    [class.active]="isControlsVisible"
    (click)="toggleControlsVisibility()"
    title="切換相機控制面板"
  >
    <span class="toggle-icon">📷</span>
    <span class="toggle-text">相機控制</span>
  </button>

  <!-- 控制面板 -->
  <div 
    class="controls-panel"
    [class.visible]="isControlsVisible"
    [class.animating]="isAnimating"
  >
    
    <!-- 面板標題 -->
    <div class="panel-header">
      <h3 class="panel-title">
        <span class="title-icon">🎥</span>
        相機控制
      </h3>
      <button 
        class="close-button"
        (click)="toggleControlsVisibility()"
        title="關閉控制面板"
      >
        ✕
      </button>
    </div>

    <!-- 快速視角切換 -->
    <div class="section quick-presets">
      <h4 class="section-title">快速視角</h4>
      <div class="preset-grid">
        <button
          *ngFor="let preset of cameraPresets"
          class="preset-button"
          [class.active]="isPresetActive(preset.name)"
          [disabled]="isAnimating"
          (click)="applyCameraPreset(preset)"
          [title]="preset.description"
        >
          <span class="preset-icon">{{ preset.icon }}</span>
          <span class="preset-name">{{ preset.displayName }}</span>
        </button>
      </div>
    </div>

    <!-- 相機操作 -->
    <div class="section camera-actions">
      <h4 class="section-title">相機操作</h4>
      <div class="action-buttons">
        <button 
          class="action-button reset-button"
          [disabled]="isAnimating"
          (click)="resetCamera()"
          title="重置相機到預設位置"
        >
          <span class="button-icon">🔄</span>
          <span class="button-text">重置</span>
        </button>
        
        <button 
          class="action-button auto-rotate-button"
          [class.active]="controlSettings.autoRotate"
          (click)="toggleAutoRotate()"
          title="切換自動旋轉"
        >
          <span class="button-icon">🔄</span>
          <span class="button-text">自動旋轉</span>
        </button>
      </div>
    </div>

    <!-- 控制設置 -->
    <div class="section control-settings">
      <h4 class="section-title">控制設置</h4>
      
      <!-- 開關設置 -->
      <div class="settings-group">
        <div class="setting-item">
          <label class="setting-label">
            <input 
              type="checkbox" 
              class="setting-checkbox"
              [checked]="controlSettings.enableZoom"
              (change)="updateControlSetting('enableZoom', $event.target?.checked)"
            >
            <span class="setting-text">縮放</span>
          </label>
        </div>
        
        <div class="setting-item">
          <label class="setting-label">
            <input 
              type="checkbox" 
              class="setting-checkbox"
              [checked]="controlSettings.enableRotate"
              (change)="updateControlSetting('enableRotate', $event.target?.checked)"
            >
            <span class="setting-text">旋轉</span>
          </label>
        </div>
        
        <div class="setting-item">
          <label class="setting-label">
            <input 
              type="checkbox" 
              class="setting-checkbox"
              [checked]="controlSettings.enablePan"
              (change)="updateControlSetting('enablePan', $event.target?.checked)"
            >
            <span class="setting-text">平移</span>
          </label>
        </div>
      </div>

      <!-- 滑桿設置 -->
      <div class="settings-group">
        <div class="setting-item">
          <label class="setting-label full-width">
            <span class="setting-text">縮放速度</span>
            <input 
              type="range" 
              class="setting-range"
              min="0.1" 
              max="2.0" 
              step="0.1"
              [value]="controlSettings.zoomSpeed"
              (input)="updateControlSetting('zoomSpeed', +($event.target?.value || 1))"
            >
            <span class="setting-value">{{ controlSettings.zoomSpeed.toFixed(1) }}</span>
          </label>
        </div>
        
        <div class="setting-item">
          <label class="setting-label full-width">
            <span class="setting-text">旋轉速度</span>
            <input 
              type="range" 
              class="setting-range"
              min="0.1" 
              max="2.0" 
              step="0.1"
              [value]="controlSettings.rotateSpeed"
              (input)="updateControlSetting('rotateSpeed', +($event.target?.value || 1))"
            >
            <span class="setting-value">{{ controlSettings.rotateSpeed.toFixed(1) }}</span>
          </label>
        </div>
        
        <div class="setting-item" *ngIf="controlSettings.autoRotate">
          <label class="setting-label full-width">
            <span class="setting-text">自動旋轉速度</span>
            <input 
              type="range" 
              class="setting-range"
              min="0.1" 
              max="5.0" 
              step="0.1"
              [value]="controlSettings.autoRotateSpeed"
              (input)="updateControlSetting('autoRotateSpeed', +($event.target?.value || 1))"
            >
            <span class="setting-value">{{ controlSettings.autoRotateSpeed.toFixed(1) }}</span>
          </label>
        </div>
        
        <div class="setting-item">
          <label class="setting-label full-width">
            <span class="setting-text">最小距離</span>
            <input 
              type="range" 
              class="setting-range"
              min="0.5" 
              max="5.0" 
              step="0.1"
              [value]="controlSettings.minDistance"
              (input)="updateControlSetting('minDistance', +($event.target?.value || 1))"
            >
            <span class="setting-value">{{ controlSettings.minDistance.toFixed(1) }}</span>
          </label>
        </div>
        
        <div class="setting-item">
          <label class="setting-label full-width">
            <span class="setting-text">最大距離</span>
            <input 
              type="range" 
              class="setting-range"
              min="5.0" 
              max="20.0" 
              step="0.5"
              [value]="controlSettings.maxDistance"
              (input)="updateControlSetting('maxDistance', +($event.target?.value || 10))"
            >
            <span class="setting-value">{{ controlSettings.maxDistance.toFixed(1) }}</span>
          </label>
        </div>
      </div>
    </div>

    <!-- 相機資訊 -->
    <div class="section camera-info">
      <h4 class="section-title">相機資訊</h4>
      <div class="info-content">
        <div class="info-text">{{ getCameraInfo() }}</div>
      </div>
    </div>

  </div>

  <!-- 快速控制按鈕（浮動） -->
  <div class="quick-controls" [class.hidden]="isControlsVisible">
    <button 
      class="quick-button"
      (click)="resetCamera()"
      [disabled]="isAnimating"
      title="重置相機"
    >
      🔄
    </button>
    
    <button 
      class="quick-button"
      [class.active]="controlSettings.autoRotate"
      (click)="toggleAutoRotate()"
      title="自動旋轉"
    >
      🔄
    </button>
  </div>

</div>